"use strict";(self.webpackChunkxtreme_admin_angular=self.webpackChunkxtreme_admin_angular||[]).push([[31],{31:(pt,b,d)=>{d.r(b),d.d(b,{DashboardModule:()=>dt});var g=d(6019),o=d(9010),E=d(7745),w=d(7378),e=d(9619),_=d(8084);let v=(()=>{class i{constructor(t){this.apiService=t}getById(t){return this.apiService.get("/ingredients/"+t,{})}get(t){return this.getById(t.ingredient_id)}getAll(){return this.apiService.get("/ingredients",{})}post(t){return this.apiService.put("/ingredients",{unit_id:t.getUnitID(),ingredient_category_id:t.getCategoryID(),name:t.name,price:t.price})}put(t,n=!0){return n&&-1===t.ingredient_id?new Promise((c,s)=>{this.post(t).then(l=>{c(t=l)}).catch(s)}):this.apiService.put("/ingredients/"+t.ingredient_id,{unit_id:t.getUnitID(),ingredient_category_id:t.getCategoryID(),name:t.name,price:t.price})}delete(t){return this.apiService.delete("/ingredients/"+t.ingredient_id,{})}addAllergene(t,n){return this.apiService.put("/ingredients/"+t.ingredient_id+"/allergenes/"+n.allergene_id,{name:n.name})}removeAllergene(t,n){return this.apiService.delete("/ingredients/"+t.ingredient_id+"/allergenes/"+n.allergene_id,{})}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(_.s))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),R=(()=>{class i{constructor(t){this.apiService=t}getById(t){return this.apiService.get("/ingredient_categories/"+t,{})}get(t){return this.getById(t.ingredient_category_id)}getAll(){return this.apiService.get("/ingredient_categories",{})}post(t){return this.apiService.post("/ingredient_categories",{name:t.name})}put(t){return this.apiService.put("/ingredient_categories/"+t.ingredient_category_id,{name:t.name})}delete(t){return this.apiService.delete("/ingredient_categories/"+t.ingredient_category_id,{})}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(_.s))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),h=(()=>{class i{constructor(t){this.apiService=t}getById(t){return this.apiService.get("/allergenes/"+t,{})}get(t){return this.getById(t.allergene_id)}getAll(){return this.apiService.get("/allergenes",{})}post(t){return this.apiService.post("/allergenes",{name:t.name})}put(t,n=!0){return this.apiService.put("/allergenes/"+t.allergene_id,{name:t.name})}delete(t){return this.apiService.delete("/allergenes/"+t.allergene_id,{})}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(_.s))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Z=(()=>{class i{constructor(t){this.apiService=t}getById(t){return this.apiService.get("/recipes/"+t,{})}get(t){return this.getById(t.recipe_id)}getAll(){return this.apiService.get("/recipes",{})}put(t){return this.apiService.put("/recipes/"+t.recipe_id,{name:t.name,nb_couvert:t.nb_couvert,user_id:t.author.user_id,recipe_category_id:t.category.recipe_category_id})}post(t){return this.apiService.post("/recipes",{name:t.name,nb_couvert:t.nb_couvert,user_id:t.author.user_id,recipe_category_id:t.category.recipe_category_id})}delete(t){return this.apiService.delete("/recipes/"+t.recipe_id,{})}addStep(t,n,c,s){return this.apiService.post("/recipes/"+t.recipe_id+"/steps/"+n.step_id,{position:c,quantity:s})}removeStep(t,n){return this.apiService.delete("/recipes/"+t.recipe_id+"/steps/"+n.step_id,{})}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(_.s))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),m=(()=>{class i{constructor(t){this.apiService=t}getById(t){return this.apiService.get("/recipe_categories/"+t,{})}get(t){return this.getById(t.recipe_category_id)}getAll(){return this.apiService.get("/recipe_categories",{})}post(t){return this.apiService.post("/recipe_categories",{name:t.name})}put(t){return this.apiService.put("/recipe_categories/"+t.recipe_category_id,{name:t.name})}delete(t){return this.apiService.delete("/recipe_categories/"+t.recipe_category_id,{})}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(_.s))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class A{constructor(r,t){this._allergene_id=r,this._name=t}get allergene_id(){return this._allergene_id}set allergene_id(r){this._allergene_id=r}get name(){return this._name}set name(r){this._name=r}}var a=d(4516),p=d(388);const k=["content"];function U(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Veuillez sp\xe9cifier un nom d'allerg\xe8ne"),e.qZA())}function N(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Le nom d'un allerg\xe8ne doit faire 4 caract\xe8res au minimum"),e.qZA())}function J(i,r){if(1&i&&(e.TgZ(0,"div",7),e.TgZ(1,"div",13),e.TgZ(2,"small",14),e.YNc(3,U,2,0,"div",15),e.YNc(4,N,2,0,"div",15),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",t.allergeneForm.get("name").hasError("required")),e.xp6(1),e.Q6J("ngIf",t.allergeneForm.get("name").hasError("minlength"))}}function O(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",1),e.TgZ(1,"h4",2),e._uU(2,"Cr\xe9ation d'un allerg\xe8ne"),e.qZA(),e.TgZ(3,"button",3),e.NdJ("click",function(){return e.CHM(t).$implicit.dismiss("Cross click")}),e.TgZ(4,"span",4),e._uU(5,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div",5),e.TgZ(7,"form",6),e.NdJ("ngSubmit",function(){return e.CHM(t),e.oxw().onSubmit()}),e.TgZ(8,"div",7),e.TgZ(9,"div",8),e.TgZ(10,"label",9),e._uU(11,"Nom"),e.qZA(),e.qZA(),e.TgZ(12,"div",8),e._UZ(13,"input",10),e.qZA(),e.TgZ(14,"div",8),e.TgZ(15,"button",11),e._uU(16,"Enregistrer"),e.qZA(),e.qZA(),e.qZA(),e.YNc(17,J,5,2,"div",12),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(7),e.Q6J("formGroup",t.allergeneForm),e.xp6(8),e.Q6J("disabled",!t.allergeneForm.valid),e.xp6(2),e.Q6J("ngIf",!t.allergeneForm.valid)}}let Y=(()=>{class i{constructor(t,n,c){this.modalService=t,this.notificationService=n,this.allergeneService=c,this.allergene=new A(-1,""),this.callbacks=[],this.allergeneForm=new o.cw({}),this.closeResult=""}addCallbackOnSubmit(t){this.callbacks.push(t)}open(){this.modalService.open(this.content,{ariaLabelledBy:"modal-basic-title"}).result.then(t=>{this.closeResult=`Closed with: ${t}`},t=>{this.closeResult=`Dismissed ${this.getDismissReason(t)}`})}getDismissReason(t){return t===a.If.ESC?"by pressing ESC":t===a.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}ngOnInit(){this.allergeneForm=new o.cw({name:new o.NI(this.allergene.name,[o.kI.required,o.kI.minLength(4)])})}onSubmit(){this.allergene.name=this.allergeneForm.value.name,this.allergeneService.post(this.allergene).then(()=>{for(const n of this.callbacks)n(this.allergene,void 0);this.notificationService.showSuccess("","Allerg\xe8ne cr\xe9\xe9")}).catch(n=>{for(const c of this.callbacks)c(void 0,n);this.notificationService.showError(n.error,"Erreur rencontr\xe9e")})}getName(){return this.allergeneForm.get("name")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.FF),e.Y36(p.g),e.Y36(h))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-allergenes-create-form"]],viewQuery:function(t,n){if(1&t&&e.Gf(k,5),2&t){let c;e.iGM(c=e.CRH())&&(n.content=c.first)}},decls:2,vars:0,consts:[["content",""],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col"],["for","name"],["type","text","id","name","name","name","required","","minlength","4","formControlName","name",1,"form-control"],["type","submit",1,"btn","btn-primary","mb-2",3,"disabled"],["class","row",4,"ngIf"],[1,"col","text-center"],[1,"text-danger"],[4,"ngIf"]],template:function(t,n){1&t&&e.YNc(0,O,18,3,"ng-template",null,0,e.W1O)},directives:[o._Y,o.JL,o.sg,o.Fj,o.Q7,o.wO,o.JJ,o.u,g.O5],styles:[""]}),i})();var u=d(2501);const Q=["content"];function M(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Veuillez sp\xe9cifier un nom d'allerg\xe8ne"),e.qZA())}function L(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Le nom d'un allerg\xe8ne doit faire 4 caract\xe8res au minimum"),e.qZA())}function D(i,r){if(1&i&&(e.TgZ(0,"div",7),e.TgZ(1,"div",13),e.TgZ(2,"small",14),e.YNc(3,M,2,0,"div",15),e.YNc(4,L,2,0,"div",15),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",t.allergeneForm.get("name").hasError("required")),e.xp6(1),e.Q6J("ngIf",t.allergeneForm.get("name").hasError("minlength"))}}function $(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",1),e.TgZ(1,"h4",2),e._uU(2,"Modification d'un allerg\xe8ne"),e.qZA(),e.TgZ(3,"button",3),e.NdJ("click",function(){return e.CHM(t).$implicit.dismiss("Cross click")}),e.TgZ(4,"span",4),e._uU(5,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div",5),e.TgZ(7,"form",6),e.NdJ("ngSubmit",function(){return e.CHM(t),e.oxw().onSubmit()}),e.TgZ(8,"div",7),e.TgZ(9,"div",8),e.TgZ(10,"label",9),e._uU(11,"Nom"),e.qZA(),e.qZA(),e.TgZ(12,"div",8),e._UZ(13,"input",10),e.qZA(),e.TgZ(14,"div",8),e.TgZ(15,"button",11),e._uU(16,"Enregistrer"),e.qZA(),e.qZA(),e.qZA(),e.YNc(17,D,5,2,"div",12),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(7),e.Q6J("formGroup",t.allergeneForm),e.xp6(8),e.Q6J("disabled",!t.allergeneForm.valid),e.xp6(2),e.Q6J("ngIf",!t.allergeneForm.valid)}}let G=(()=>{class i{constructor(t,n,c){this.modalService=t,this.notificationService=n,this.allergeneService=c,this.allergene=new A(-1,""),this.allergeneForm=new o.cw({}),this.closeResult=""}open(){this.modalService.open(this.content,{ariaLabelledBy:"modal-basic-title"}).result.then(t=>{this.closeResult=`Closed with: ${t}`},t=>{this.closeResult=`Dismissed ${this.getDismissReason(t)}`})}getDismissReason(t){return t===a.If.ESC?"by pressing ESC":t===a.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}ngOnInit(){this.allergeneForm=new o.cw({name:new o.NI(this.allergene.name,[o.kI.required,o.kI.minLength(4)])})}onSubmit(){const t=this.allergeneForm.value,n=JSON.parse(JSON.stringify(this.allergene));n.name=t.name,this.allergeneService.put(n).then(()=>{this.allergene.name=n.name,this.notificationService.showSuccess("","Allerg\xe8ne modifi\xe9")}).catch(c=>{this.notificationService.showError(c.error,"Erreur rencontr\xe9e")})}getName(){return this.allergeneForm.get("name")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.FF),e.Y36(p.g),e.Y36(h))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-allergenes-edit-form"]],viewQuery:function(t,n){if(1&t&&e.Gf(Q,5),2&t){let c;e.iGM(c=e.CRH())&&(n.content=c.first)}},inputs:{allergene:"allergene"},decls:2,vars:0,consts:[["content",""],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col"],["for","name"],["type","text","id","name","name","name","required","","minlength","4","formControlName","name",1,"form-control"],["type","submit",1,"btn","btn-primary","mb-2",3,"disabled"],["class","row",4,"ngIf"],[1,"col","text-center"],[1,"text-danger"],[4,"ngIf"]],template:function(t,n){1&t&&e.YNc(0,$,18,3,"ng-template",null,0,e.W1O)},directives:[o._Y,o.JL,o.sg,o.Fj,o.Q7,o.wO,o.JJ,o.u,g.O5],styles:[""]}),i})();function H(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e.TgZ(2,"p",6),e._uU(3),e.qZA(),e.qZA(),e.TgZ(4,"td"),e.TgZ(5,"p",6),e._uU(6),e.qZA(),e.qZA(),e.TgZ(7,"td"),e.TgZ(8,"div",7),e.TgZ(9,"div",8),e.NdJ("click",function(){e.CHM(t);const c=e.MAs(14);return e.oxw(2).editFormClicked(c)}),e._uU(10,"Modifier"),e.qZA(),e.TgZ(11,"div",9),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(2).deleteClicked(s)}),e._uU(12,"Supprimer"),e.qZA(),e.qZA(),e._UZ(13,"app-allergenes-edit-form",10,11),e.qZA(),e.qZA()}if(2&i){const t=r.$implicit;e.xp6(3),e.Oqu(t.allergene_id),e.xp6(3),e.Oqu(t.name),e.xp6(7),e.Q6J("allergene",t)}}function V(i,r){if(1&i&&(e.TgZ(0,"table",3),e.TgZ(1,"thead"),e.TgZ(2,"tr"),e.TgZ(3,"th",4),e._uU(4,"#"),e.qZA(),e.TgZ(5,"th",4),e._uU(6,"Nom"),e.qZA(),e.TgZ(7,"th",4),e._uU(8,"Actions"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"tbody"),e.YNc(10,H,15,3,"tr",5),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.Q6J("dtOptions",t.dtOptions),e.xp6(10),e.Q6J("ngForOf",t.allergenes)}}function B(i,r){1&i&&(e.TgZ(0,"div",12),e._uU(1,"Il n'y a pas d'allerg\xe8ne"),e.qZA())}let z=(()=>{class i{constructor(t,n){this.allergeneService=t,this.notificationService=n,this.allergenes=[],this.dtOptions={}}editFormClicked(t){t.open()}deleteClicked(t){this.allergeneService.delete(t).then(()=>{this.allergenes=this.allergenes.filter(n=>n!==t)}).catch(n=>{this.notificationService.showError(n.error,"Erreur rencontr\xe9e")})}ngOnInit(){this.dtOptions={language:{processing:"Traitement en cours...",search:"Rechercher&nbsp;:",lengthMenu:"Afficher _MENU_ &eacute;l&eacute;ments",info:"Affichage de l'&eacute;lement _START_ &agrave; _END_ sur _TOTAL_ &eacute;l&eacute;ments",infoEmpty:"Affichage de l'&eacute;lement 0 &agrave; 0 sur 0 &eacute;l&eacute;ments",infoFiltered:"(filtr&eacute; de _MAX_ &eacute;l&eacute;ments au total)",infoPostFix:"",loadingRecords:"Chargement en cours...",zeroRecords:"Aucun &eacute;l&eacute;ment &agrave; afficher",emptyTable:"Aucune donn\xe9e disponible dans le tableau",paginate:{first:"Premier",previous:"Pr&eacute;c&eacute;dent",next:"Suivant",last:"Dernier"},aria:{sortAscending:": activer pour trier la colonne par ordre croissant",sortDescending:": activer pour trier la colonne par ordre d\xe9croissant"}},pagingType:"full_numbers",pageLength:10,processing:!0}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(h),e.Y36(p.g))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-allergenes-table"]],inputs:{allergenes:"allergenes"},decls:4,vars:2,consts:[[1,"table-responsive"],["datatable","","class","table align-middle",3,"dtOptions",4,"ngIf","ngIfElse"],["noAllergenes",""],["datatable","",1,"table","align-middle",3,"dtOptions"],[1,"text-dark","font-medium","fs-4"],[4,"ngFor","ngForOf"],[1,"mb-0","fw-normal"],["role","group",1,"btn-group"],[1,"btn","btn-sm","btn-info",3,"click"],[1,"btn","btn-sm","btn-danger",3,"click"],[3,"allergene"],["component",""],[1,"w-100","text-center"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,V,11,2,"table",1),e.qZA(),e.YNc(2,B,2,0,"ng-template",null,2,e.W1O)),2&t){const c=e.MAs(3);e.xp6(1),e.Q6J("ngIf",n.allergenes.length>0)("ngIfElse",c)}},directives:[g.O5,u.G,g.sg,G],encapsulation:2}),i})();class q{constructor(r,t){this._recipe_category_id=r,this._name=t}get recipe_category_id(){return this._recipe_category_id}set recipe_category_id(r){this._recipe_category_id=r}get name(){return this._name}set name(r){this._name=r}}const P=["content"];function X(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Veuillez sp\xe9cifier un nom de cat\xe9gorie de recette"),e.qZA())}function K(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Le nom d'une cat\xe9gorie de recette doit faire 4 caract\xe8res au minimum"),e.qZA())}function j(i,r){if(1&i&&(e.TgZ(0,"div",7),e.TgZ(1,"div",13),e.TgZ(2,"small",14),e.YNc(3,X,2,0,"div",15),e.YNc(4,K,2,0,"div",15),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",t.recipeCategoryForm.get("name").hasError("required")),e.xp6(1),e.Q6J("ngIf",t.recipeCategoryForm.get("name").hasError("minlength"))}}function W(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",1),e.TgZ(1,"h4",2),e._uU(2,"Cr\xe9ation d'une cat\xe9gorie de recette"),e.qZA(),e.TgZ(3,"button",3),e.NdJ("click",function(){return e.CHM(t).$implicit.dismiss("Cross click")}),e.TgZ(4,"span",4),e._uU(5,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div",5),e.TgZ(7,"form",6),e.NdJ("ngSubmit",function(){return e.CHM(t),e.oxw().onSubmit()}),e.TgZ(8,"div",7),e.TgZ(9,"div",8),e.TgZ(10,"label",9),e._uU(11,"Nom"),e.qZA(),e.qZA(),e.TgZ(12,"div",8),e._UZ(13,"input",10),e.qZA(),e.TgZ(14,"div",8),e.TgZ(15,"button",11),e._uU(16,"Enregistrer"),e.qZA(),e.qZA(),e.qZA(),e.YNc(17,j,5,2,"div",12),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(7),e.Q6J("formGroup",t.recipeCategoryForm),e.xp6(8),e.Q6J("disabled",!t.recipeCategoryForm.valid),e.xp6(2),e.Q6J("ngIf",!t.recipeCategoryForm.valid)}}let C=(()=>{class i{constructor(t,n,c){this.modalService=t,this.notificationService=n,this.recipeCategoriesService=c,this.recipeCategory=new q(-1,""),this.callbacks=[],this.recipeCategoryForm=new o.cw({}),this.closeResult=""}addCallbackOnSubmit(t){this.callbacks.push(t)}open(){this.modalService.open(this.content,{ariaLabelledBy:"modal-basic-title"}).result.then(t=>{this.closeResult=`Closed with: ${t}`},t=>{this.closeResult=`Dismissed ${this.getDismissReason(t)}`})}getDismissReason(t){return t===a.If.ESC?"by pressing ESC":t===a.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}ngOnInit(){this.recipeCategoryForm=new o.cw({name:new o.NI(this.recipeCategory.name,[o.kI.required,o.kI.minLength(4)])})}onSubmit(){this.recipeCategory.name=this.recipeCategoryForm.value.name,this.recipeCategoriesService.post(this.recipeCategory).then(()=>{for(const n of this.callbacks)n(this.recipeCategory,void 0);this.notificationService.showSuccess("","Recette de cat\xe9gorie cr\xe9\xe9")}).catch(n=>{for(const c of this.callbacks)c(void 0,n);this.notificationService.showError(n.error,"Erreur rencontr\xe9e")})}getName(){return this.recipeCategoryForm.get("name")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.FF),e.Y36(p.g),e.Y36(m))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-recipe-categories-create-form"]],viewQuery:function(t,n){if(1&t&&e.Gf(P,5),2&t){let c;e.iGM(c=e.CRH())&&(n.content=c.first)}},decls:2,vars:0,consts:[["content",""],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col"],["for","name"],["type","text","id","name","name","name","required","","minlength","4","formControlName","name",1,"form-control"],["type","submit",1,"btn","btn-primary","mb-2",3,"disabled"],["class","row",4,"ngIf"],[1,"col","text-center"],[1,"text-danger"],[4,"ngIf"]],template:function(t,n){1&t&&e.YNc(0,W,18,3,"ng-template",null,0,e.W1O)},directives:[o._Y,o.JL,o.sg,o.Fj,o.Q7,o.wO,o.JJ,o.u,g.O5],styles:[""]}),i})();const ee=["content"];function te(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Veuillez sp\xe9cifier un nom de cat\xe9gorie de recette"),e.qZA())}function ie(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Le nom d'une cat\xe9gorie de recette doit faire 4 caract\xe8res au minimum"),e.qZA())}function ne(i,r){if(1&i&&(e.TgZ(0,"div",7),e.TgZ(1,"div",13),e.TgZ(2,"small",14),e.YNc(3,te,2,0,"div",15),e.YNc(4,ie,2,0,"div",15),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",t.recipeCategoryForm.get("name").hasError("required")),e.xp6(1),e.Q6J("ngIf",t.recipeCategoryForm.get("name").hasError("minlength"))}}function re(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",1),e.TgZ(1,"h4",2),e._uU(2,"Modification d'une cat\xe9gorie de recette"),e.qZA(),e.TgZ(3,"button",3),e.NdJ("click",function(){return e.CHM(t).$implicit.dismiss("Cross click")}),e.TgZ(4,"span",4),e._uU(5,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div",5),e.TgZ(7,"form",6),e.NdJ("ngSubmit",function(){return e.CHM(t),e.oxw().onSubmit()}),e.TgZ(8,"div",7),e.TgZ(9,"div",8),e.TgZ(10,"label",9),e._uU(11,"Nom"),e.qZA(),e.qZA(),e.TgZ(12,"div",8),e._UZ(13,"input",10),e.qZA(),e.TgZ(14,"div",8),e.TgZ(15,"button",11),e._uU(16,"Enregistrer"),e.qZA(),e.qZA(),e.qZA(),e.YNc(17,ne,5,2,"div",12),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(7),e.Q6J("formGroup",t.recipeCategoryForm),e.xp6(8),e.Q6J("disabled",!t.recipeCategoryForm.valid),e.xp6(2),e.Q6J("ngIf",!t.recipeCategoryForm.valid)}}let oe=(()=>{class i{constructor(t,n,c){this.modalService=t,this.notificationService=n,this.recipeCategoryService=c,this.recipeCategory=new q(-1,""),this.recipeCategoryForm=new o.cw({}),this.closeResult=""}open(){this.modalService.open(this.content,{ariaLabelledBy:"modal-basic-title"}).result.then(t=>{this.closeResult=`Closed with: ${t}`},t=>{this.closeResult=`Dismissed ${this.getDismissReason(t)}`})}getDismissReason(t){return t===a.If.ESC?"by pressing ESC":t===a.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}ngOnInit(){this.recipeCategoryForm=new o.cw({name:new o.NI(this.recipeCategory.name,[o.kI.required,o.kI.minLength(4)])})}onSubmit(){const t=this.recipeCategoryForm.value,n=JSON.parse(JSON.stringify(this.recipeCategory));n.name=t.name,this.recipeCategoryService.put(n).then(()=>{this.recipeCategory.name=n.name,this.notificationService.showSuccess("","Cat\xe9gorie de recette modifi\xe9e")}).catch(c=>{this.notificationService.showError(c.error,"Erreur rencontr\xe9e")})}getName(){return this.recipeCategoryForm.get("name")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.FF),e.Y36(p.g),e.Y36(m))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-recipe-categories-edit-form"]],viewQuery:function(t,n){if(1&t&&e.Gf(ee,5),2&t){let c;e.iGM(c=e.CRH())&&(n.content=c.first)}},inputs:{recipeCategory:"recipeCategory"},decls:2,vars:0,consts:[["content",""],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col"],["for","name"],["type","text","id","name","name","name","required","","minlength","4","formControlName","name",1,"form-control"],["type","submit",1,"btn","btn-primary","mb-2",3,"disabled"],["class","row",4,"ngIf"],[1,"col","text-center"],[1,"text-danger"],[4,"ngIf"]],template:function(t,n){1&t&&e.YNc(0,re,18,3,"ng-template",null,0,e.W1O)},directives:[o._Y,o.JL,o.sg,o.Fj,o.Q7,o.wO,o.JJ,o.u,g.O5],styles:[""]}),i})();function ce(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e.TgZ(2,"p",6),e._uU(3),e.qZA(),e.qZA(),e.TgZ(4,"td"),e.TgZ(5,"p",6),e._uU(6),e.qZA(),e.qZA(),e.TgZ(7,"td"),e.TgZ(8,"div",7),e.TgZ(9,"div",8),e.NdJ("click",function(){e.CHM(t);const c=e.MAs(14);return e.oxw(2).editFormClicked(c)}),e._uU(10,"Modifier"),e.qZA(),e.TgZ(11,"div",9),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(2).deleteClicked(s)}),e._uU(12,"Supprimer"),e.qZA(),e.qZA(),e._UZ(13,"app-recipe-categories-edit-form",10,11),e.qZA(),e.qZA()}if(2&i){const t=r.$implicit;e.xp6(3),e.Oqu(t.recipe_category_id),e.xp6(3),e.Oqu(t.name),e.xp6(7),e.Q6J("recipeCategory",t)}}function se(i,r){if(1&i&&(e.TgZ(0,"table",3),e.TgZ(1,"thead"),e.TgZ(2,"tr"),e.TgZ(3,"th",4),e._uU(4,"#"),e.qZA(),e.TgZ(5,"th",4),e._uU(6,"Nom"),e.qZA(),e.TgZ(7,"th",4),e._uU(8,"Actions"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"tbody"),e.YNc(10,ce,15,3,"tr",5),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.Q6J("dtOptions",t.dtOptions),e.xp6(10),e.Q6J("ngForOf",t.recipeCategories)}}function ae(i,r){1&i&&(e.TgZ(0,"div",12),e._uU(1,"Il n'y a pas de cat\xe9gorie de recette"),e.qZA())}let le=(()=>{class i{constructor(t,n){this.recipeCategoryService=t,this.notificationService=n,this.recipeCategories=[],this.dtOptions={}}editFormClicked(t){t.open()}deleteClicked(t){this.recipeCategoryService.delete(t).then(()=>{this.recipeCategories=this.recipeCategories.filter(n=>n!==t)}).catch(n=>{this.notificationService.showError(n.error,"Erreur rencontr\xe9e")})}ngOnInit(){this.dtOptions={language:{processing:"Traitement en cours...",search:"Rechercher&nbsp;:",lengthMenu:"Afficher _MENU_ &eacute;l&eacute;ments",info:"Affichage de l'&eacute;lement _START_ &agrave; _END_ sur _TOTAL_ &eacute;l&eacute;ments",infoEmpty:"Affichage de l'&eacute;lement 0 &agrave; 0 sur 0 &eacute;l&eacute;ments",infoFiltered:"(filtr&eacute; de _MAX_ &eacute;l&eacute;ments au total)",infoPostFix:"",loadingRecords:"Chargement en cours...",zeroRecords:"Aucun &eacute;l&eacute;ment &agrave; afficher",emptyTable:"Aucune donn\xe9e disponible dans le tableau",paginate:{first:"Premier",previous:"Pr&eacute;c&eacute;dent",next:"Suivant",last:"Dernier"},aria:{sortAscending:": activer pour trier la colonne par ordre croissant",sortDescending:": activer pour trier la colonne par ordre d\xe9croissant"}},pagingType:"full_numbers",pageLength:10,processing:!0}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m),e.Y36(p.g))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-recipe-categories-table"]],inputs:{recipeCategories:"recipeCategories"},decls:4,vars:2,consts:[[1,"table-responsive"],["datatable","","class","table align-middle",3,"dtOptions",4,"ngIf","ngIfElse"],["noRecipeCategories",""],["datatable","",1,"table","align-middle",3,"dtOptions"],[1,"text-dark","font-medium","fs-4"],[4,"ngFor","ngForOf"],[1,"mb-0","fw-normal"],["role","group",1,"btn-group"],[1,"btn","btn-sm","btn-info",3,"click"],[1,"btn","btn-sm","btn-danger",3,"click"],[3,"recipeCategory"],["component",""],[1,"w-100","text-center"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,se,11,2,"table",1),e.qZA(),e.YNc(2,ae,2,0,"ng-template",null,2,e.W1O)),2&t){const c=e.MAs(3);e.xp6(1),e.Q6J("ngIf",n.recipeCategories.length>0)("ngIfElse",c)}},directives:[g.O5,u.G,g.sg,oe],styles:[""]}),i})();class ge{constructor(r,t,n,c,s,l,f){this._recipe_id=r,this._name=t,this._nb_couvert=n,this._author=c,this._category=s,this._steps=l,this._ingredients=f}toString(){return this._name}get recipe_id(){return this._recipe_id}set recipe_id(r){this._recipe_id=r}get name(){return this._name}set name(r){this._name=r}get nb_couvert(){return this._nb_couvert}set nb_couvert(r){this._nb_couvert=r}get author(){return this._author}set author(r){this._author=r}get category(){return this._category}set category(r){this._category=r}get steps(){return this._steps}set steps(r){this._steps=r}get ingredients(){return this._ingredients}set ingredients(r){this._ingredients=r}getId(){return this.recipe_id}}var x=d(5931),y=d(6661);const de=["content"];function pe(i,r){if(1&i&&(e.TgZ(0,"option",23),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.name)}}function me(i,r){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Oqu(t.errorMessage)}}function ue(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Veuillez sp\xe9cifier un nom pour votre recette"),e.qZA())}function _e(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Le nom de votre recette doit faire 4 caract\xe8res au minimum"),e.qZA())}function fe(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Veuillez sp\xe9cifier un nombre de converts"),e.qZA())}function he(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Une recette doit pouvoir couvrir au moins un couvert"),e.qZA())}function Ze(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Veuillez sp\xe9cifier une cat\xe9gorie pour votre plat"),e.qZA())}function ve(i,r){if(1&i&&(e.TgZ(0,"div",19),e.TgZ(1,"div",20),e.TgZ(2,"small",24),e.YNc(3,me,2,1,"div",25),e.YNc(4,ue,2,0,"div",25),e.YNc(5,_e,2,0,"div",25),e.YNc(6,fe,2,0,"div",25),e.YNc(7,he,2,0,"div",25),e.YNc(8,Ze,2,0,"div",25),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",""!=t.errorMessage),e.xp6(1),e.Q6J("ngIf",t.recipeForm.get("name").hasError("required")),e.xp6(1),e.Q6J("ngIf",t.recipeForm.get("name").hasError("minlength")),e.xp6(1),e.Q6J("ngIf",t.recipeForm.get("nb_couvert").hasError("required")),e.xp6(1),e.Q6J("ngIf",t.recipeForm.get("nb_couvert").hasError("min")),e.xp6(1),e.Q6J("ngIf",t.recipeForm.get("category").hasError("required"))}}function Ce(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",1),e.TgZ(1,"h4",2),e._uU(2,"Cr\xe9ation d'une recette"),e.qZA(),e.TgZ(3,"button",3),e.NdJ("click",function(){return e.CHM(t).$implicit.dismiss("Cross click")}),e.TgZ(4,"span",4),e._uU(5,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div",5),e.TgZ(7,"form",6),e.NdJ("ngSubmit",function(){return e.CHM(t),e.oxw().onSubmit()}),e.TgZ(8,"div",7),e.TgZ(9,"div",8),e.TgZ(10,"label",9),e._uU(11,"Nom"),e.qZA(),e.qZA(),e.TgZ(12,"div",10),e._UZ(13,"input",11),e.qZA(),e.qZA(),e.TgZ(14,"div",7),e.TgZ(15,"div",8),e.TgZ(16,"label",12),e._uU(17,"Nombre de couvert"),e.qZA(),e.qZA(),e.TgZ(18,"div",10),e._UZ(19,"input",13),e.qZA(),e.qZA(),e.TgZ(20,"div",7),e.TgZ(21,"div",8),e.TgZ(22,"label",14),e._uU(23,"Cat\xe9gorie ("),e.TgZ(24,"a",15),e.NdJ("click",function(){e.CHM(t);const c=e.MAs(28);return e.oxw().addRecipeCategory(c)}),e._uU(25,"cr\xe9er"),e.qZA(),e._uU(26,")"),e.qZA(),e._UZ(27,"app-recipe-categories-create-form",null,16),e.qZA(),e.TgZ(29,"div",10),e.TgZ(30,"select",17),e.YNc(31,pe,2,2,"option",18),e.qZA(),e.qZA(),e.qZA(),e.TgZ(32,"div",19),e.TgZ(33,"div",20),e.TgZ(34,"button",21),e._uU(35,"Enregistrer"),e.qZA(),e.qZA(),e.qZA(),e.YNc(36,ve,9,6,"div",22),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(7),e.Q6J("formGroup",t.recipeForm),e.xp6(24),e.Q6J("ngForOf",t.getRecipeCategories()),e.xp6(3),e.Q6J("disabled",!t.recipeForm.valid),e.xp6(2),e.Q6J("ngIf",!t.recipeForm.valid)}}let Te=(()=>{class i{constructor(t,n,c,s,l,f){this.modalService=t,this.notificationService=n,this.recipeService=c,this.userService=s,this.loginService=l,this.recipeCategoryService=f,this.callbacks=[],this.recipeForm=new o.cw({}),this.closeResult="",this.errorMessage="",this.isLogged=!1,this.user=null,this.recipeCategories=[],l.isLoggedIn().then(T=>{this.user=T,this.isLogged=!0}).catch(()=>{this.isLogged=!1}),this.populateRecipeCategories()}populateRecipeCategories(){this.recipeCategoryService.getAll().then(t=>{this.recipeCategories=t})}addCallbackOnSubmit(t){this.callbacks.push(t)}open(){this.isLogged?this.modalService.open(this.content,{ariaLabelledBy:"modal-basic-title"}).result.then(t=>{this.closeResult=`Closed with: ${t}`},t=>{this.closeResult=`Dismissed ${this.getDismissReason(t)}`}):this.notificationService.showError("Vous devez \xeatre connect\xe9 pour cr\xe9er des recettes","Connexion requise")}getRecipeCategories(){return this.recipeCategories}addRecipeCategory(t){t.addCallbackOnSubmit((n,c)=>{n?this.populateRecipeCategories():console.log(c)}),t.open()}getDismissReason(t){return t===a.If.ESC?"by pressing ESC":t===a.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}ngOnInit(){this.recipeForm=new o.cw({name:new o.NI("",[o.kI.required,o.kI.minLength(4)]),nb_couvert:new o.NI("",[o.kI.required,o.kI.min(1)]),category:new o.NI("",[o.kI.required])})}onSubmit(){const t=this.recipeForm.value;console.log(t);const n=new ge(-1,t.name,t.nb_couvert,this.user,t.category,[],[]);this.recipeService.post(n).then(()=>{for(const c of this.callbacks)c(n,void 0);this.notificationService.showSuccess("","Recette cr\xe9\xe9")}).catch(c=>{for(const s of this.callbacks)s(void 0,c);this.notificationService.showError(c.error,"Erreur rencontr\xe9e")})}getName(){return this.recipeForm.get("name")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.FF),e.Y36(p.g),e.Y36(Z),e.Y36(x.f),e.Y36(y.r),e.Y36(m))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-recipes-create-form"]],viewQuery:function(t,n){if(1&t&&e.Gf(de,5),2&t){let c;e.iGM(c=e.CRH())&&(n.content=c.first)}},decls:2,vars:0,consts:[["content",""],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"row","mb-1"],[1,"col"],["for","name"],[1,"col-6"],["type","text","id","name","name","name","required","","minlength","4","formControlName","name",1,"w-100","form-control"],["for","nb_couvert"],["type","number","id","nb_couvert","name","nb_couvert","required","","min","1","value","1","formControlName","nb_couvert",1,"w-100","form-control"],["for","category"],[1,"btn","btn-link","btn-sm",3,"click"],["addRecipeCategoryForm",""],["id","category","name","category","required","","formControlName","category",1,"w-100","form-control"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"row"],[1,"col","text-center"],["type","submit",1,"w-100","btn","btn-primary","mb-2",3,"disabled"],["class","row",4,"ngIf"],[3,"ngValue"],[1,"text-danger"],[4,"ngIf"]],template:function(t,n){1&t&&e.YNc(0,Ce,37,4,"ng-template",null,0,e.W1O)},directives:[o._Y,o.JL,o.sg,o.Fj,o.Q7,o.wO,o.JJ,o.u,o.qQ,o.wV,C,o.EJ,g.sg,g.O5,o.YN,o.Kr],styles:[""]}),i})();const be=["content"];function Ae(i,r){if(1&i&&(e.TgZ(0,"option",23),e._uU(1),e.qZA()),2&i){const t=r.$implicit,n=e.oxw(2);e.Q6J("ngValue",t)("selected",t.recipe_category_id==n.recipe.category.recipe_category_id),e.xp6(1),e.Oqu(t.name)}}function qe(i,r){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Oqu(t.errorMessage)}}function xe(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Veuillez sp\xe9cifier un nom pour votre recette"),e.qZA())}function ye(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Le nom de votre recette doit faire 4 caract\xe8res au minimum"),e.qZA())}function Fe(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Veuillez sp\xe9cifier un nombre de converts"),e.qZA())}function Ie(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Une recette doit pouvoir couvrir au moins un couvert"),e.qZA())}function Se(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Veuillez sp\xe9cifier une cat\xe9gorie pour votre plat"),e.qZA())}function Ee(i,r){if(1&i&&(e.TgZ(0,"div",19),e.TgZ(1,"div",20),e.TgZ(2,"small",24),e.YNc(3,qe,2,1,"div",25),e.YNc(4,xe,2,0,"div",25),e.YNc(5,ye,2,0,"div",25),e.YNc(6,Fe,2,0,"div",25),e.YNc(7,Ie,2,0,"div",25),e.YNc(8,Se,2,0,"div",25),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",""!=t.errorMessage),e.xp6(1),e.Q6J("ngIf",t.recipeForm.get("name").hasError("required")),e.xp6(1),e.Q6J("ngIf",t.recipeForm.get("name").hasError("minlength")),e.xp6(1),e.Q6J("ngIf",t.recipeForm.get("nb_couvert").hasError("required")),e.xp6(1),e.Q6J("ngIf",t.recipeForm.get("nb_couvert").hasError("min")),e.xp6(1),e.Q6J("ngIf",t.recipeForm.get("category").hasError("required"))}}function we(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",1),e.TgZ(1,"h4",2),e._uU(2,"Modification d'une recette"),e.qZA(),e.TgZ(3,"button",3),e.NdJ("click",function(){return e.CHM(t).$implicit.dismiss("Cross click")}),e.TgZ(4,"span",4),e._uU(5,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div",5),e.TgZ(7,"form",6),e.NdJ("ngSubmit",function(){return e.CHM(t),e.oxw().onSubmit()}),e.TgZ(8,"div",7),e.TgZ(9,"div",8),e.TgZ(10,"label",9),e._uU(11,"Nom"),e.qZA(),e.qZA(),e.TgZ(12,"div",10),e._UZ(13,"input",11),e.qZA(),e.qZA(),e.TgZ(14,"div",7),e.TgZ(15,"div",8),e.TgZ(16,"label",12),e._uU(17,"Nombre de couvert"),e.qZA(),e.qZA(),e.TgZ(18,"div",10),e._UZ(19,"input",13),e.qZA(),e.qZA(),e.TgZ(20,"div",7),e.TgZ(21,"div",8),e.TgZ(22,"label",14),e._uU(23,"Cat\xe9gorie ("),e.TgZ(24,"a",15),e.NdJ("click",function(){e.CHM(t);const c=e.MAs(28);return e.oxw().addRecipeCategory(c)}),e._uU(25,"cr\xe9er"),e.qZA(),e._uU(26,")"),e.qZA(),e._UZ(27,"app-recipe-categories-create-form",null,16),e.qZA(),e.TgZ(29,"div",10),e.TgZ(30,"select",17),e.YNc(31,Ae,2,3,"option",18),e.qZA(),e.qZA(),e.qZA(),e.TgZ(32,"div",19),e.TgZ(33,"div",20),e.TgZ(34,"button",21),e._uU(35,"Enregistrer"),e.qZA(),e.qZA(),e.qZA(),e.YNc(36,Ee,9,6,"div",22),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(7),e.Q6J("formGroup",t.recipeForm),e.xp6(24),e.Q6J("ngForOf",t.getRecipeCategories()),e.xp6(3),e.Q6J("disabled",!t.recipeForm.valid),e.xp6(2),e.Q6J("ngIf",!t.recipeForm.valid)}}let Re=(()=>{class i{constructor(t,n,c,s,l,f){this.modalService=t,this.notificationService=n,this.recipeService=c,this.userService=s,this.loginService=l,this.recipeCategoryService=f,this.recipe=null,this.callbacks=[],this.recipeForm=new o.cw({}),this.closeResult="",this.errorMessage="",this.isLogged=!1,this.user=null,this.recipeCategories=[],l.isLoggedIn().then(T=>{this.user=T,this.isLogged=!0}).catch(()=>{this.isLogged=!1}),this.populateRecipeCategories()}populateRecipeCategories(){this.recipeCategoryService.getAll().then(t=>{this.recipeCategories=t})}addCallbackOnSubmit(t){this.callbacks.push(t)}open(){this.isLogged?this.modalService.open(this.content,{ariaLabelledBy:"modal-basic-title"}).result.then(t=>{this.closeResult=`Closed with: ${t}`},t=>{this.closeResult=`Dismissed ${this.getDismissReason(t)}`}):this.notificationService.showError("Vous devez \xeatre connect\xe9 pour modifier des recettes","Connexion requise")}getRecipeCategories(){return this.recipeCategories}addRecipeCategory(t){t.addCallbackOnSubmit((n,c)=>{n?this.populateRecipeCategories():console.log(c)}),t.open()}getDismissReason(t){return t===a.If.ESC?"by pressing ESC":t===a.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}ngOnInit(){this.recipeForm=new o.cw({name:new o.NI(this.recipe.name,[o.kI.required,o.kI.minLength(4)]),nb_couvert:new o.NI(this.recipe.nb_couvert,[o.kI.required,o.kI.min(1)]),category:new o.NI(this.recipe.category,[o.kI.required])})}onSubmit(){const t=this.recipeForm.value,n=JSON.parse(JSON.stringify(this.recipe));n.name=t.name,n.nb_couvert=t.nb_couvert,n.category=t.category,this.recipeService.put(n).then(()=>{for(const c of this.callbacks)c(n,void 0);this.recipe.name=n.name,this.recipe.nb_couvert=n.nb_couvert,this.recipe.category=n.category,this.notificationService.showSuccess("","Recette modifi\xe9e")}).catch(c=>{for(const s of this.callbacks)s(void 0,c);this.notificationService.showError(c.error,"Erreur rencontr\xe9e")})}getName(){return this.recipeForm.get("name")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.FF),e.Y36(p.g),e.Y36(Z),e.Y36(x.f),e.Y36(y.r),e.Y36(m))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-recipes-edit-form"]],viewQuery:function(t,n){if(1&t&&e.Gf(be,5),2&t){let c;e.iGM(c=e.CRH())&&(n.content=c.first)}},inputs:{recipe:"recipe"},decls:2,vars:0,consts:[["content",""],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"row","mb-1"],[1,"col"],["for","name"],[1,"col-6"],["type","text","id","name","name","name","required","","minlength","4","formControlName","name",1,"w-100","form-control"],["for","nb_couvert"],["type","number","id","nb_couvert","name","nb_couvert","required","","min","1","value","1","formControlName","nb_couvert",1,"w-100","form-control"],["for","category"],[1,"btn","btn-link","btn-sm",3,"click"],["addRecipeCategoryForm",""],["id","category","name","category","required","","formControlName","category",1,"w-100","form-control"],[3,"ngValue","selected",4,"ngFor","ngForOf"],[1,"row"],[1,"col","text-center"],["type","submit",1,"w-100","btn","btn-primary","mb-2",3,"disabled"],["class","row",4,"ngIf"],[3,"ngValue","selected"],[1,"text-danger"],[4,"ngIf"]],template:function(t,n){1&t&&e.YNc(0,we,37,4,"ng-template",null,0,e.W1O)},directives:[o._Y,o.JL,o.sg,o.Fj,o.Q7,o.wO,o.JJ,o.u,o.qQ,o.wV,C,o.EJ,g.sg,g.O5,o.YN,o.Kr],styles:[""]}),i})();function ke(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e.TgZ(2,"p",6),e._uU(3),e.qZA(),e.qZA(),e.TgZ(4,"td"),e.TgZ(5,"p",6),e._uU(6),e.qZA(),e.qZA(),e.TgZ(7,"td"),e.TgZ(8,"p",6),e._uU(9),e.qZA(),e.qZA(),e.TgZ(10,"td"),e.TgZ(11,"p",6),e._uU(12),e.qZA(),e.qZA(),e.TgZ(13,"td"),e.TgZ(14,"p",6),e._uU(15),e.qZA(),e.qZA(),e.TgZ(16,"td"),e.TgZ(17,"div",7),e.TgZ(18,"div",8),e.NdJ("click",function(){e.CHM(t);const c=e.MAs(23);return e.oxw(2).editFormClicked(c)}),e._uU(19,"Modifier"),e.qZA(),e.TgZ(20,"div",9),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(2).deleteClicked(s)}),e._uU(21,"Supprimer"),e.qZA(),e.qZA(),e._UZ(22,"app-recipes-edit-form",10,11),e.qZA(),e.qZA()}if(2&i){const t=r.$implicit;e.xp6(3),e.Oqu(t.recipe_id),e.xp6(3),e.Oqu(t.name),e.xp6(3),e.Oqu(t.nb_couvert),e.xp6(3),e.Oqu(t.author.username),e.xp6(3),e.Oqu(t.category.name),e.xp6(7),e.Q6J("recipe",t)}}function Ue(i,r){if(1&i&&(e.TgZ(0,"table",3),e.TgZ(1,"thead"),e.TgZ(2,"tr"),e.TgZ(3,"th",4),e._uU(4,"#"),e.qZA(),e.TgZ(5,"th",4),e._uU(6,"Nom"),e.qZA(),e.TgZ(7,"th",4),e._uU(8,"Couverts"),e.qZA(),e.TgZ(9,"th",4),e._uU(10,"Auteur"),e.qZA(),e.TgZ(11,"th",4),e._uU(12,"Cat\xe9gorie"),e.qZA(),e.TgZ(13,"th",4),e._uU(14,"Actions"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"tbody"),e.YNc(16,ke,24,6,"tr",5),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.Q6J("dtOptions",t.dtOptions),e.xp6(16),e.Q6J("ngForOf",t.recipes)}}function Ne(i,r){1&i&&(e.TgZ(0,"div",12),e._uU(1,"Il n'y a pas de recettes"),e.qZA())}let Je=(()=>{class i{constructor(t,n){this.recipeService=t,this.notificationService=n,this.recipes=[],this.dtOptions={}}editFormClicked(t){t.open()}deleteClicked(t){this.recipeService.delete(t).then(()=>{this.recipes=this.recipes.filter(n=>n!==t)}).catch(n=>{this.notificationService.showError(n.error,"Erreur rencontr\xe9e")})}ngOnInit(){this.dtOptions={language:{processing:"Traitement en cours...",search:"Rechercher&nbsp;:",lengthMenu:"Afficher _MENU_ &eacute;l&eacute;ments",info:"Affichage de l'&eacute;lement _START_ &agrave; _END_ sur _TOTAL_ &eacute;l&eacute;ments",infoEmpty:"Affichage de l'&eacute;lement 0 &agrave; 0 sur 0 &eacute;l&eacute;ments",infoFiltered:"(filtr&eacute; de _MAX_ &eacute;l&eacute;ments au total)",infoPostFix:"",loadingRecords:"Chargement en cours...",zeroRecords:"Aucun &eacute;l&eacute;ment &agrave; afficher",emptyTable:"Aucune donn\xe9e disponible dans le tableau",paginate:{first:"Premier",previous:"Pr&eacute;c&eacute;dent",next:"Suivant",last:"Dernier"},aria:{sortAscending:": activer pour trier la colonne par ordre croissant",sortDescending:": activer pour trier la colonne par ordre d\xe9croissant"}},pagingType:"full_numbers",pageLength:10,processing:!0}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Z),e.Y36(p.g))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-recipes-table"]],inputs:{recipes:"recipes"},decls:4,vars:2,consts:[[1,"table-responsive"],["datatable","","class","table align-middle",3,"dtOptions",4,"ngIf","ngIfElse"],["noRecipes",""],["datatable","",1,"table","align-middle",3,"dtOptions"],[1,"text-dark","font-medium","fs-4"],[4,"ngFor","ngForOf"],[1,"mb-0","fw-normal"],["role","group",1,"btn-group"],[1,"btn","btn-sm","btn-info",3,"click"],[1,"btn","btn-sm","btn-danger",3,"click"],[3,"recipe"],["component",""],[1,"w-100","text-center"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,Ue,17,2,"table",1),e.qZA(),e.YNc(2,Ne,2,0,"ng-template",null,2,e.W1O)),2&t){const c=e.MAs(3);e.xp6(1),e.Q6J("ngIf",n.recipes.length>0)("ngIfElse",c)}},directives:[g.O5,u.G,g.sg,Re],styles:[""]}),i})();class F{constructor(r,t,n,c,s,l){this._ingredient_id=r,this._name=t,this._price=n,this._unit=c,this._category=s,this._allergenes=l}get ingredient_id(){return this._ingredient_id}get name(){return this._name}set name(r){this._name=r}get price(){return this._price}set price(r){this._price=r}get unit(){return this._unit}set unit(r){this._unit=r}getUnitID(){return this._unit.unit_id}get category(){return this._category}set category(r){this._category=r}getCategoryID(){return this._category.ingredient_category_id}get allergenes(){return this._allergenes}set allergenes(r){this._allergenes=r}toString(){return this.name}getId(){return this.ingredient_id}}class I{constructor(r,t){this._unit_id=r,this.name=t}get unit_id(){return this._unit_id}toString(){return this.name}}class S{constructor(r,t){this._ingredient_category_id=r,this._name=t}get ingredient_category_id(){return this._ingredient_category_id}get name(){return this._name}toString(){return this.name}}const Oe=["content"];function Ye(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Veuillez sp\xe9cifier un nom d'ingredient"),e.qZA())}function Qe(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Le nom d'un ingredient doit faire 4 caract\xe8res au minimum"),e.qZA())}function Me(i,r){if(1&i&&(e.TgZ(0,"div",7),e.TgZ(1,"div",15),e.TgZ(2,"small",16),e.YNc(3,Ye,2,0,"div",17),e.YNc(4,Qe,2,0,"div",17),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",t.ingredientForm.get("name").hasError("required")),e.xp6(1),e.Q6J("ngIf",t.ingredientForm.get("name").hasError("minlength"))}}function Le(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Veuillez sp\xe9cifier le prix de l'ingredient"),e.qZA())}function De(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Le prix d'un ingredient doit faire 1 caract\xe8re au minimum"),e.qZA())}function $e(i,r){if(1&i&&(e.TgZ(0,"div",7),e.TgZ(1,"div",15),e.TgZ(2,"small",16),e.YNc(3,Le,2,0,"div",17),e.YNc(4,De,2,0,"div",17),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",t.ingredientForm.get("name").hasError("required")),e.xp6(1),e.Q6J("ngIf",t.ingredientForm.get("name").hasError("minlength"))}}function Ge(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",1),e.TgZ(1,"h4",2),e._uU(2,"Cr\xe9ation d'un ingredient"),e.qZA(),e.TgZ(3,"button",3),e.NdJ("click",function(){return e.CHM(t).$implicit.dismiss("Cross click")}),e.TgZ(4,"span",4),e._uU(5,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div",5),e.TgZ(7,"form",6),e.NdJ("ngSubmit",function(){return e.CHM(t),e.oxw().onSubmit()}),e.TgZ(8,"div",7),e.TgZ(9,"div",8),e.TgZ(10,"label",9),e._uU(11,"Nom"),e.qZA(),e.qZA(),e.TgZ(12,"div",8),e._UZ(13,"input",10),e.qZA(),e.qZA(),e.YNc(14,Me,5,2,"div",11),e.TgZ(15,"div",7),e.TgZ(16,"div",8),e.TgZ(17,"label",12),e._uU(18,"Price"),e.qZA(),e.qZA(),e.TgZ(19,"div",8),e._UZ(20,"input",13),e.qZA(),e.qZA(),e.YNc(21,$e,5,2,"div",11),e.TgZ(22,"div",8),e.TgZ(23,"button",14),e._uU(24,"Enregistrer"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(7),e.Q6J("formGroup",t.ingredientForm),e.xp6(7),e.Q6J("ngIf",!t.ingredientForm.valid),e.xp6(7),e.Q6J("ngIf",!t.ingredientForm.valid),e.xp6(2),e.Q6J("disabled",!t.ingredientForm.valid)}}let He=(()=>{class i{constructor(t,n,c){this.modalService=t,this.notificationService=n,this.ingredientService=c,this.ingredient=new F(-1,"",-1,new I(-1,""),new S(-1,""),[]),this.callbacks=[],this.ingredientForm=new o.cw({}),this.closeResult=""}addCallbackOnSubmit(t){this.callbacks.push(t)}open(){this.modalService.open(this.content,{ariaLabelledBy:"modal-basic-title"}).result.then(t=>{this.closeResult=`Closed with: ${t}`},t=>{this.closeResult=`Dismissed ${this.getDismissReason(t)}`})}getDismissReason(t){return t===a.If.ESC?"by pressing ESC":t===a.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}ngOnInit(){this.ingredientForm=new o.cw({name:new o.NI(this.ingredient.name,[o.kI.required,o.kI.minLength(4)]),price:new o.NI(this.ingredient.price,[o.kI.required,o.kI.minLength(1)]),unit:new o.NI(this.ingredient.unit,[o.kI.required,o.kI.minLength(1)]),ingredientCategory:new o.NI(this.ingredient.category,[o.kI.required,o.kI.minLength(4)]),allergenes:new o.NI(this.ingredient.allergenes,[])})}onSubmit(){const t=this.ingredientForm.value;this.ingredient.name=t.name,this.ingredient.price=t.price,this.ingredient.unit=t.unit,this.ingredient.category=t.category,this.ingredient.allergenes=t.allergenes,this.ingredientService.post(this.ingredient).then(()=>{for(const n of this.callbacks)n(this.ingredient,void 0);this.notificationService.showSuccess("","Allerg\xe8ne cr\xe9\xe9")}).catch(n=>{for(const c of this.callbacks)c(void 0,n);this.notificationService.showError(n.error,"Erreur rencontr\xe9e")})}getName(){return this.ingredientForm.get("name")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.FF),e.Y36(p.g),e.Y36(v))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-ingredients-create-form"]],viewQuery:function(t,n){if(1&t&&e.Gf(Oe,5),2&t){let c;e.iGM(c=e.CRH())&&(n.content=c.first)}},decls:2,vars:0,consts:[["content",""],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col"],["for","name"],["type","text","id","name","name","name","required","","minlength","4","formControlName","name",1,"form-control"],["class","row",4,"ngIf"],["for","price"],["type","text","id","price","price","price","required","","minlength","1","formControlPrice","price",1,"form-control"],["type","submit",1,"btn","btn-primary","mb-2",3,"disabled"],[1,"col","text-center"],[1,"text-danger"],[4,"ngIf"]],template:function(t,n){1&t&&e.YNc(0,Ge,25,4,"ng-template",null,0,e.W1O)},directives:[o._Y,o.JL,o.sg,o.Fj,o.Q7,o.wO,o.JJ,o.u,g.O5],styles:[""]}),i})();function Ve(i,r){if(1&i&&(e.TgZ(0,"span",9),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function Be(i,r){if(1&i&&(e.TgZ(0,"p",6),e.YNc(1,Ve,2,1,"span",8),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.allergenes)}}function ze(i,r){1&i&&(e.TgZ(0,"p",6),e._uU(1," Aucun "),e.qZA())}function Pe(i,r){if(1&i&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e.TgZ(2,"p",6),e._uU(3),e.qZA(),e.qZA(),e.TgZ(4,"td"),e.TgZ(5,"p",6),e._uU(6),e.qZA(),e.qZA(),e.TgZ(7,"td"),e.TgZ(8,"p",6),e._uU(9),e.qZA(),e.qZA(),e.TgZ(10,"td"),e.TgZ(11,"p",6),e._uU(12),e.qZA(),e.qZA(),e.TgZ(13,"td"),e.TgZ(14,"p",6),e._uU(15),e.qZA(),e.qZA(),e.TgZ(16,"td"),e.YNc(17,Be,2,1,"p",7),e.YNc(18,ze,2,0,"p",7),e.qZA(),e.qZA()),2&i){const t=r.$implicit;e.xp6(3),e.Oqu(t.ingredient_id),e.xp6(3),e.Oqu(t.name),e.xp6(3),e.Oqu(t.price),e.xp6(3),e.Oqu(t.unit.name),e.xp6(3),e.Oqu(t.category.name),e.xp6(2),e.Q6J("ngIf",t.allergenes.length>0),e.xp6(1),e.Q6J("ngIf",0==t.allergenes.length)}}function Xe(i,r){if(1&i&&(e.TgZ(0,"table",3),e.TgZ(1,"thead"),e.TgZ(2,"tr"),e.TgZ(3,"th",4),e._uU(4,"#"),e.qZA(),e.TgZ(5,"th",4),e._uU(6,"Nom"),e.qZA(),e.TgZ(7,"th",4),e._uU(8,"Prix"),e.qZA(),e.TgZ(9,"th",4),e._uU(10,"Unit\xe9"),e.qZA(),e.TgZ(11,"th",4),e._uU(12,"Cat\xe9gorie"),e.qZA(),e.TgZ(13,"th",4),e._uU(14,"Allerg\xe8nes"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"tbody"),e.YNc(16,Pe,19,7,"tr",5),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(16),e.Q6J("ngForOf",t.ingredients)}}function Ke(i,r){1&i&&(e.TgZ(0,"div",10),e._uU(1,"Il n'y a pas d'ingredient"),e.qZA())}let je=(()=>{class i{constructor(){this.ingredients=[]}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-ingredients-table"]],inputs:{ingredients:"ingredients"},decls:4,vars:2,consts:[[1,"table-responsive"],["datatable","","class","table align-middle",4,"ngIf","ngIfElse"],["noIngredients",""],["datatable","",1,"table","align-middle"],[1,"text-dark","font-medium","fs-4"],[4,"ngFor","ngForOf"],[1,"mb-0","fw-normal"],["class","mb-0 fw-normal",4,"ngIf"],["class","badge badge-info m-1",4,"ngFor","ngForOf"],[1,"badge","badge-info","m-1"],[1,"w-100","text-center"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,Xe,17,1,"table",1),e.qZA(),e.YNc(2,Ke,2,0,"ng-template",null,2,e.W1O)),2&t){const c=e.MAs(3);e.xp6(1),e.Q6J("ngIf",n.ingredients.length>0)("ngIfElse",c)}},directives:[g.O5,u.G,g.sg],styles:[""]}),i})();function We(i,r){if(1&i&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e.TgZ(2,"p",6),e._uU(3),e.qZA(),e.qZA(),e.TgZ(4,"td"),e.TgZ(5,"p",6),e._uU(6),e.qZA(),e.qZA(),e.qZA()),2&i){const t=r.$implicit;e.xp6(3),e.Oqu(t.ingredient_category_id),e.xp6(3),e.Oqu(t.name)}}function et(i,r){if(1&i&&(e.TgZ(0,"table",3),e.TgZ(1,"thead"),e.TgZ(2,"tr"),e.TgZ(3,"th",4),e._uU(4,"#"),e.qZA(),e.TgZ(5,"th",4),e._uU(6,"Nom"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"tbody"),e.YNc(8,We,7,2,"tr",5),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(8),e.Q6J("ngForOf",t.ingredientscategory)}}function tt(i,r){1&i&&(e.TgZ(0,"div",7),e._uU(1,"Il n'y a pas de cat\xe9gorie d'ingredient"),e.qZA())}let it=(()=>{class i{constructor(){this.ingredientscategory=[]}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-ingredients-category-table"]],inputs:{ingredientscategory:"ingredientscategory"},decls:4,vars:2,consts:[[1,"table-responsive"],["datatable","","class","table align-middle",4,"ngIf","ngIfElse"],["noIngredientsCategory",""],["datatable","",1,"table","align-middle"],[1,"text-dark","font-medium","fs-4"],[4,"ngFor","ngForOf"],[1,"mb-0","fw-normal"],[1,"w-100","text-center"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,et,9,1,"table",1),e.qZA(),e.YNc(2,tt,2,0,"ng-template",null,2,e.W1O)),2&t){const c=e.MAs(3);e.xp6(1),e.Q6J("ngIf",n.ingredientscategory.length>0)("ngIfElse",c)}},directives:[g.O5,u.G,g.sg],styles:[""]}),i})();const nt=["content"];function rt(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Veuillez sp\xe9cifier un nom d'allerg\xe8ne"),e.qZA())}function ot(i,r){1&i&&(e.TgZ(0,"div"),e._uU(1,"Le nom d'un allerg\xe8ne doit faire 4 caract\xe8res au minimum"),e.qZA())}function ct(i,r){if(1&i&&(e.TgZ(0,"div",7),e.TgZ(1,"div",15),e.TgZ(2,"small",16),e.YNc(3,rt,2,0,"div",17),e.YNc(4,ot,2,0,"div",17),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",t.allergeneForm.get("name").hasError("required")),e.xp6(1),e.Q6J("ngIf",t.allergeneForm.get("name").hasError("minlength"))}}function st(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",1),e.TgZ(1,"h4",2),e._uU(2,"Modification d'un ingredient"),e.qZA(),e.TgZ(3,"button",3),e.NdJ("click",function(){return e.CHM(t).$implicit.dismiss("Cross click")}),e.TgZ(4,"span",4),e._uU(5,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div",5),e.TgZ(7,"form",6),e.NdJ("ngSubmit",function(){return e.CHM(t),e.oxw().onSubmit()}),e.TgZ(8,"div",7),e.TgZ(9,"div",8),e.TgZ(10,"label",9),e._uU(11,"Nom"),e.qZA(),e.qZA(),e.TgZ(12,"div",8),e._UZ(13,"input",10),e._UZ(14,"input",11),e._UZ(15,"input",12),e.qZA(),e.TgZ(16,"div",8),e.TgZ(17,"button",13),e._uU(18,"Enregistrer"),e.qZA(),e.qZA(),e.qZA(),e.YNc(19,ct,5,2,"div",14),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(7),e.Q6J("formGroup",t.ingredientForm),e.xp6(10),e.Q6J("disabled",!t.ingredientForm.valid),e.xp6(2),e.Q6J("ngIf",!t.allergeneForm.valid)}}let at=(()=>{class i{constructor(t,n,c){this.modalService=t,this.notificationService=n,this.ingredientService=c,this.ingredient=new F(-1,"",-1,new I(-1,""),new S(-1,""),[]),this.ingredientForm=new o.cw({}),this.closeResult=""}open(){this.modalService.open(this.content,{ariaLabelledBy:"modal-basic-title"}).result.then(t=>{this.closeResult=`Closed with: ${t}`},t=>{this.closeResult=`Dismissed ${this.getDismissReason(t)}`})}getDismissReason(t){return t===a.If.ESC?"by pressing ESC":t===a.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}ngOnInit(){this.ingredientForm=new o.cw({name:new o.NI(this.ingredient.name,[o.kI.required,o.kI.minLength(4)]),price:new o.NI(this.ingredient.price,[o.kI.required,o.kI.minLength(1)]),unit:new o.NI(this.ingredient.unit,[o.kI.required,o.kI.minLength(1)]),ingredientCategory:new o.NI(this.ingredient.category,[o.kI.required,o.kI.minLength(4)]),allergenes:new o.NI(this.ingredient.allergenes,[])})}onSubmit(){const t=this.ingredientForm.value,n=JSON.parse(JSON.stringify(this.ingredient));n.name=t.name,n.price=t.price,n.unit=t.unit,n.category=t.category,n.allergenes=t.allergenes,this.ingredientService.put(n).then(()=>{this.ingredient.name=n.name,this.ingredient.price=n.price,this.ingredient.unit=n.unit,this.ingredient.category=n.category,this.ingredient.allergenes=n.allergenes,this.notificationService.showSuccess("","Ingr\xe9dient modifi\xe9")}).catch(c=>{this.notificationService.showError(c.error,"Erreur rencontr\xe9e")})}getName(){return this.ingredientForm.get("name")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.FF),e.Y36(p.g),e.Y36(v))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-ingredients-edit-form"]],viewQuery:function(t,n){if(1&t&&e.Gf(nt,5),2&t){let c;e.iGM(c=e.CRH())&&(n.content=c.first)}},inputs:{ingredient:"ingredient"},decls:2,vars:0,consts:[["content",""],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col"],["for","name"],["type","text","id","name","name","name","required","","minlength","4","formControlName","name",1,"form-control"],["type","text","id","price","price","price","required","","minlength","1","formControlPrice","price",1,"form-control"],["type","text","id","unit","unit","unit","required","","minlength","1","formControlUnit","unit",1,"form-control"],["type","submit",1,"btn","btn-primary","mb-2",3,"disabled"],["class","row",4,"ngIf"],[1,"col","text-center"],[1,"text-danger"],[4,"ngIf"]],template:function(t,n){1&t&&e.YNc(0,st,20,3,"ng-template",null,0,e.W1O)},directives:[o._Y,o.JL,o.sg,o.Fj,o.Q7,o.wO,o.JJ,o.u,g.O5],styles:[""]}),i})();function lt(i,r){if(1&i&&e._UZ(0,"app-ingredients-edit-form",19),2&i){const t=e.oxw();e.Q6J("ingredient",t.getIngredients()[0])}}const gt=[{path:"",data:{title:"Dashboard",urls:[{title:"Dashboard",url:"/dashboard"},{title:"Dashboard"}]},component:(()=>{class i{constructor(t,n,c,s,l){this.ingredientService=t,this.ingredientCategoryService=n,this.allergeneService=c,this.recipeService=s,this.recipeCategoriesService=l,this.allergenes=[],this.ingredients=[],this.ingredientscategory=[],this.recipes=[],this.recipeCategories=[],this.subtitle="This is some text within a card block.",this.populateAllergenes(),this.populateRecipes(),this.populateIngredientCategories(),this.populateIngredients(),this.populateRecipeCategories()}populateIngredientCategories(){this.ingredientCategoryService.getAll().then(t=>{console.log(t),this.ingredientscategory=t}).catch(console.error)}populateIngredients(){this.ingredientService.getAll().then(t=>{console.log(t),this.ingredients=t}).catch(console.error)}populateAllergenes(){this.allergeneService.getAll().then(t=>{this.allergenes=t}).catch(console.error)}populateRecipes(){this.recipeService.getAll().then(t=>{this.recipes=t}).catch(console.error)}populateRecipeCategories(){this.recipeCategoriesService.getAll().then(t=>{this.recipeCategories=t}).catch(console.error)}getAllergenes(){return this.allergenes}getIngredients(){return this.ingredients}getIngredientsCategory(){return this.ingredientscategory}getRecipes(){return this.recipes}getRecipeCategories(){return this.recipeCategories}addRecipe(t){t.addCallbackOnSubmit((n,c)=>{n?this.populateRecipes():console.log(c)}),t.open()}addRecipeCategory(t){t.addCallbackOnSubmit((n,c)=>{n?this.populateRecipeCategories():console.log(c)}),t.open()}addAllergene(t){t.addCallbackOnSubmit((n,c)=>{n?this.populateAllergenes():console.log(c)}),t.open()}addIngredient(t){t.addCallbackOnSubmit((n,c)=>{n?this.populateIngredients():console.log(c)}),t.open()}ngAfterViewInit(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(v),e.Y36(R),e.Y36(h),e.Y36(Z),e.Y36(m))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],decls:74,vars:6,consts:[[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"col"],[1,"card-title"],[1,"text-right"],[1,"btn","btn-sm","btn-success",3,"click"],["addAllergeneForm",""],[1,"card-subtitle"],[3,"allergenes"],["addRecipeCategoryForm",""],[3,"recipeCategories"],["addRecipeForm",""],[3,"recipes"],["addIngredientForm",""],[3,"ingredients"],[3,"ingredientscategory"],[3,"ingredient",4,"ngIf"],[3,"ingredient"]],template:function(t,n){if(1&t){const c=e.EpF();e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",0),e.TgZ(5,"div",4),e.TgZ(6,"h4",5),e._uU(7,"Allerg\xe8nes"),e.qZA(),e.qZA(),e.TgZ(8,"div",4),e.TgZ(9,"div",6),e.TgZ(10,"div",7),e.NdJ("click",function(){e.CHM(c);const l=e.MAs(13);return n.addAllergene(l)}),e._uU(11,"Ajouter"),e.qZA(),e._UZ(12,"app-allergenes-create-form",null,8),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"h5",9),e._uU(15,"Liste de tous les allerg\xe8nes"),e.qZA(),e._UZ(16,"app-allergenes-table",10),e.qZA(),e.qZA(),e.TgZ(17,"div",2),e.TgZ(18,"div",3),e.TgZ(19,"div",0),e.TgZ(20,"div",4),e.TgZ(21,"h4",5),e._uU(22,"Cat\xe9gories de recette"),e.qZA(),e.qZA(),e.TgZ(23,"div",4),e.TgZ(24,"div",6),e.TgZ(25,"div",7),e.NdJ("click",function(){e.CHM(c);const l=e.MAs(28);return n.addRecipeCategory(l)}),e._uU(26,"Ajouter"),e.qZA(),e._UZ(27,"app-recipe-categories-create-form",null,11),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"h5",9),e._uU(30,"Liste de toutes les cat\xe9gories de recette"),e.qZA(),e._UZ(31,"app-recipe-categories-table",12),e.qZA(),e.qZA(),e.TgZ(32,"div",2),e.TgZ(33,"div",3),e.TgZ(34,"div",0),e.TgZ(35,"div",4),e.TgZ(36,"h4",5),e._uU(37,"Recettes"),e.qZA(),e.qZA(),e.TgZ(38,"div",4),e.TgZ(39,"div",6),e.TgZ(40,"div",7),e.NdJ("click",function(){e.CHM(c);const l=e.MAs(43);return n.addRecipe(l)}),e._uU(41,"Ajouter"),e.qZA(),e._UZ(42,"app-recipes-create-form",null,13),e.qZA(),e.qZA(),e.qZA(),e.TgZ(44,"h5",9),e._uU(45,"Liste de toutes les recettes"),e.qZA(),e._UZ(46,"app-recipes-table",14),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(47,"div",0),e.TgZ(48,"div",1),e.TgZ(49,"div",2),e.TgZ(50,"div",3),e.TgZ(51,"div",0),e.TgZ(52,"div",4),e.TgZ(53,"h4",5),e._uU(54,"Ingr\xe9dients"),e.qZA(),e.qZA(),e.TgZ(55,"div",4),e.TgZ(56,"div",6),e.TgZ(57,"div",7),e.NdJ("click",function(){e.CHM(c);const l=e.MAs(60);return n.addIngredient(l)}),e._uU(58,"Ajouter"),e.qZA(),e._UZ(59,"app-ingredients-create-form",null,15),e.qZA(),e.qZA(),e.qZA(),e.TgZ(61,"h5",9),e._uU(62,"Liste de tous les ingredients"),e.qZA(),e._UZ(63,"app-ingredients-table",16),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(64,"div",0),e.TgZ(65,"div",1),e.TgZ(66,"div",2),e.TgZ(67,"div",3),e.TgZ(68,"h4",5),e._uU(69,"Cat\xe9gories d'ingr\xe9dients"),e.qZA(),e.TgZ(70,"h5",9),e._uU(71,"Liste de toutes les cat\xe9gories d'ingredients"),e.qZA(),e._UZ(72,"app-ingredients-category-table",17),e.YNc(73,lt,1,1,"app-ingredients-edit-form",18),e.qZA(),e.qZA(),e.qZA(),e.qZA()}2&t&&(e.xp6(16),e.Q6J("allergenes",n.getAllergenes()),e.xp6(15),e.Q6J("recipeCategories",n.getRecipeCategories()),e.xp6(15),e.Q6J("recipes",n.getRecipes()),e.xp6(17),e.Q6J("ingredients",n.getIngredients()),e.xp6(9),e.Q6J("ingredientscategory",n.getIngredientsCategory()),e.xp6(1),e.Q6J("ngIf",n.getIngredients().length>0))},directives:[Y,z,C,le,Te,Je,He,je,it,g.O5,at],encapsulation:2}),i})()}];let dt=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[o.u5,o.UX,g.ez,E.Bz.forChild(gt),w.X,u.T]]}),i})()}}]);